/**
 * @param {number[]} arr
 * @return {number}
 */
var lenLongestFibSubseq = function (arr) {
  let map = {};
  arr.forEach((num, i) => map[num] = i);
  let longestMap = {};
  let ans = 0;
  let len = arr.length;
  for (let k = 0; k < len; ++k)
    for (let j = 0; j < k; ++j) {
      if (arr[k] - arr[j] < arr[j] && map[arr[k] - arr[j]] !== undefined) {
        const i = map[arr[k] - arr[j]];
        longestMap[j * len + k] = (longestMap[i * len + j] !== undefined ? longestMap[i * len + j] : 0) + 1;
        ans = Math.max(ans, longestMap[j * len + k] + 2);
      }
    }

  return ans >= 3 ? ans : 0;
};
function test() {
  let fun = lenLongestFibSubseq;
  let params = [
    // [1, 2, 3, 4, 5, 6, 7, 8]
    // [1, 3, 7, 11, 12, 14, 18]
    // [1,3,4,18,19,23,31,37,40,47,58,64,66,68,72,77,83,86,87,89,90,91,96,97,99,113,117,120,140,151,159,176,179,193,194,209,212,216,234,238,250,266,290,292,311,329,333,352,385,389,409,442,471,483,505,538,549,564,619,627,659,708,763,773,816,867,882,916,1016,1068,1150,1234,1256,1321,1405,1431,1480,1643,1727,1858,1997,2137,2313,2396,2659,3008,3231,3458,3744,3876,4302,4866,5228,5595,6057,6272,6961,7874,8459,9053,9801,10148,11263,12740,13687,14648,15858,16420,18224,20614,22146,23701,25659,26568,29487,33354,35833,38349,41517,42988,47711,53968,57979,62050,67176,69556,77198,87322,93812,100399,108693,112544,124909,141290,151791,162449,175869,182100,202107,228612,245603,262848,283191,284562,294644,369902,397394,425297,460431,476744,598514,642997,688145,744993,771388,968416,1040391,1113442,1205424,1248132,1399140,1566930,1596290,1801587,2019520,2535346,2915029,3036706,3267652,3828317,4102276,4716616,5287172,5944498,6637622,7622008,8554824,8790921,9971460,10653566,10739898,11572338,13046712,13744403,13841996,14427240,14625900,14743261,15503987,17377520,18356632,19662011,20237997,20622182,20639585,22800425,23195590,23917936,24731232,27391236,28117418,29579011,29714792,30438829,32254072,32637794,32721320,33324833,33676687,34741680,35623805,36616014,40909681,42843097,44295139,48069687,50841786,51125795,51256556,51707362,51808443,51953597,53605369,54114335,55716617,57717808,59344460,59830062,60444554,61792853,62952344,63491915,65147225,68819648,69051507,71376153,71878237,72003246,74060804,74231526,75147932,75734341,76030496,77962265,82747568,83058179,84364224,86930840,87932717,88184650,88858402,89164538,90343051,90364650,91868160,93062019,96535143,98766934,101489773,105243329,105552443,109926146,113448315,115514750,115738292,115983334,117467941,119909122,120673547,122567922,123427814,123580294,123896516,124244090,125237978,125837999,131077055,132929747,133085759,134015213,134102416,134548389,137456047,138525774,139554104,140719167,143604125,144292921,144695589,145523403,146555635,148841329,148845435,151102082,152391224,156304006,159229194,159422738,161352190,161589861,162865415,163019320,163250083,164304554,166457509,167952331,168466535,169586096,170469129,170826907,171189607,171377449,171673888,173844114,174923810,175387565,175941973,176854588,180398248,181028316,182301227,182863872,189875952,190115627,191391071,194355496,196076417,197738765,197750926,198406028,200458496,202384911,202458937,202768448,205903395,206168321,207769588,211396927,212012222,212546598,213016501,215041482,215522511,217295611,217314117,218017534,219203801,223722543,224221165,226987216,227168236,227653615,228786893,228857729,228958891,231681850,234822155,235867285,236345790,238601330,245161152,245422158,245524171,245662090,247031830,248793729,250371046,250432800,253898175,256535701,257055716,257069502,257939492,258264319,262437497,262788663,264378010,265456676,265517857,268193464,269866103,271586830,274575481,277071973,278544546,279394648,280635770,282607361,283106240,283178936,283598043,283722939,284707524,285202227,286158639,289314270,289962751,290241181,290754059,291618482,292376728,293553846,294397502,295445030,298027525,302168114,303239474,304053905,304088959,305456856,305818764,307178081,308948319,309871218,316220545,317721421,318580483,318755568,318875563,319820898,320547819,321588559,324532245,325160664,325404462,325460525,327158087,328066064,329591059,330115950,330314540,330544641,330992130,331125111,331150561,332491173,335776935,336309462,336678839,337208167,337758217,339813480,341526449,342136141,342377734,342611081,345776311,346140242,348136993,350047982,351032706,351450134,351995418,353000863,354193344,354627811,354731446,354761299,356357754,356597318,359223346,359639503,360231178,360754320,362884567,363248175,363429491,364178337,364265478,364322477,364533781,366337799,367240443,369667644,370041114,370989970,371870126,372859923,374756971,376031017,376261616,377082078,377811501,379595510,379807766,379915120,379984981,381823242,382355902,383344233,385084138,385152530,385222251,386044180,389292636,390043223,390244310,391303344,392046060,393486962,400122715,400681363,401838598,401962506,406013592,406073815,406899446,414006740,414844354,415152280,416770784,417653362,417891510,418860727,418880633,419985868,420449342,421141644,422257403,423306962,424952894,426602722,426853349,427138570,431468472,434493668,435197957,437868847,439098336,440038148,440055681,441875847,442034086,442875910,445081732,446443226,448608774,453939157,456106260,457277849,458407034,459412052,460574296,465521891,466275456,466599348,467382123,467399915,468148263,468193260,468386440,468622813,468819854,469005907,472609077,473807317,474935242,476176576,478140547,479525402,482417861,482423067,484353528,484684316,484802950,486063852,488308568,488449525,489270971,491175427,495445229,498066043,498119322,498338146,499020509,501319858,501554616,502798902,503334695,505045819,506473529,507944891,507986154,509948580,510732718,514101616,518230770,518412677,520898789,521199664,522647154,524943597,526248488,527383567,528932773,529238059,529491426,530636427,533216859,533313070,533422759,537152148,537942630,539344677,540153227,541910003,542223549,542636893,543021246,543635262,547087021,547653017,551452301,552443876,553949432,554001370,554084351,554986987,555046938,555204702,557113570,557203139,558222996,560907620,562747631,563336190,564458163,566196035,568441189,568815892,569731125,571228126,571847964,572297981,573227616,574216192,574241801,574418022,576344426,577153399,578194693,580350240,580431492,583621475,585477712,587068005,587949899,589019478,591340865,593093618,594439310,595588414,599673629,600351654,602360354,602993678,604891030,607470334,607675645,608619819,608797940,608810889,609215215,609458181,612474045,613849166,614119122,614824142,615680534,615873346,618174444,620147611,621144913,622054108,622389637,623388192,623665087,624021401,624032983,624342633,625329405,628557708,630326312,632234415,632286712,634231188,634648822,635441686,636437836,636669294,637745065,638595095,638674719,639721930,641587723,641704157,641997590,644072785,644496289,646130005,647101962,648078430,649143437,649326620,649567609,650559606,650819973,651299097,652468785,654146891,655449219,657958227,660951237,662017248,662961732,663195217,663947576,669248409,670296398,670899636,671959939,674645658,675363845,681004264,681675143,682551026,684562548,685497271,686443946,687197802,689300624,691498034,693036985,693713229,694735108,695258038,697396663,698257842,698843271,700084154,703112883,704007774,705674539,705900503,706342551,709238436,710823468,711161010,715137060,715193045,715373254,715538503,716286283,716601217,717185707,717250333,717419668,718096149,719055284,719261036,719552690,722259144,722800277,724755524,725209157,725419582,727267876,729562982,730017685,730898699,731559083,732703820,733519030,734707613,734896236,735198698,735284880,735968949,739735346,740348960,742035850,742150263,742575522,743733268,744054981,745841859,746977241,748843685,749368009,749514671,750671852,752019642,752111301,752217735,753171262,753786935,756071590,758692081,760335528,764130212,764133247,764383920,764693639,765753742,767770911,768196027,769502955,769690723,771058274,773861760,774196305,774928394,775008213,775076393,775261155,775833580,776146514,778750356,779787409,786710077,787175204,787220295,787394040,787468173,788430878,791926547,792836214,793660707,793805564,794128788,795166886,795792494,799056222,799590369,799804293,800552869,800815394,802973267,803839919,808074280,809762536,809921633,814053954,815543449,815775429,815857307,818942154,823038461,824107725,824289995,826918795,826954844,829248979,829438385,829941496,831500449,832905437,834193190,836493633,837344526,837780372,838342002,838405999,838578140,841504393,841952375,843279976,844109696,844873781,845413270,845939142,846011417,846908705,847862069,848659719,849470355,849599741,849822694,851147271,851444472,853215425,855261683,856435585,857088471,857568903,858483055,858957600,859159976,861616928,862275420,863997019,865332558,866199617,866853308,867495265,867774358,867945780,869967309,871829033,874347082,875286587,877788469,879288551,879332134,881784116,882828547,884570519,886178585,886184356,886297438,886534299,889721921,889896532,891677914,892718196,895075910,898577167,901223684,901470380,901839521,901852364,902082200,902697057,902977866,905725871,908661438,909901538,910374575,913531724,916437670,917978489,919103237,920214939,922426289,924626440,925800278,925857517,926666961,926990758,927610025,930036707,931163450,931436390,931643778,934021857,934424262,937067140,937785813,942089097,942927808,943221155,947356469,947514802,947769246,948114408,949676018,949758851,949956134,954654685,956496706,957637513,957764320,958028846,959135032,959348616,959773458,963089827,965119884,967199004,967445546,971057288,972751698,975852386,976419637,977770312,981998191,984131593,985096661,987673554,987709284,988310021,988684711,989115609,990147572,990278321,991096681,991191958,996357455,996980937,998468873,998887102,999390962,999606167]
    [1, 3, 4, 18, 19, 23, 31, 37, 40, 47, 58, 64, 66, 68, 72, 77, 83, 86, 87, 89, 90, 91, 96, 97, 99, 113, 117, 120, 140, 151, 159, 176, 179, 193, 194, 209, 212, 216, 234, 238, 250, 266, 290, 292, 311, 329, 333, 352, 385, 389, 409, 442, 471, 483, 505, 538, 549, 564, 619, 627, 659, 708, 763, 773, 816, 867, 882, 916, 1016, 1068, 1150, 1234, 1256, 1321, 1405, 1431, 1480, 1643, 1727, 1858, 1997, 2137, 2313, 2396, 2659, 3008, 3231, 3458, 3744, 3876, 4302, 4866, 5228, 5595, 6057, 6272, 6961, 7874, 8459, 9053, 9801, 10148, 11263, 12740, 13687, 14648, 15858, 16420, 18224, 20614, 22146, 23701, 25659, 26568, 29487, 33354, 35833, 38349, 41517, 42988, 47711, 53968, 57979, 62050, 67176, 69556, 77198, 87322, 93812, 100399, 108693, 112544, 124909, 141290, 151791, 162449, 175869, 182100, 202107, 228612, 245603, 262848, 283191, 284562, 294644, 369902, 397394, 425297, 460431, 476744, 598514, 642997, 688145, 744993, 771388, 968416, 1040391, 1113442, 1205424, 1248132, 1399140, 1566930, 1596290, 1801587, 2019520, 2535346, 2915029, 3036706, 3267652, 3828317, 4102276, 4716616, 5287172, 5944498, 6637622, 7622008, 8554824, 8790921, 9971460, 10653566, 10739898, 11572338, 13046712, 13744403, 13841996, 14427240, 14625900, 14743261, 15503987, 17377520, 18356632, 19662011, 20237997, 20622182, 20639585, 22800425, 23195590, 23917936, 24731232, 27391236, 28117418, 29579011, 29714792, 30438829, 32254072, 32637794, 32721320, 33324833, 33676687, 34741680, 35623805, 36616014, 40909681, 42843097, 44295139, 48069687, 50841786, 51125795, 51256556, 51707362, 51808443, 51953597, 53605369, 54114335, 55716617, 57717808, 59344460, 59830062, 60444554, 61792853, 62952344, 63491915, 65147225, 68819648, 69051507, 71376153, 71878237, 72003246, 74060804, 74231526, 75147932, 75734341, 76030496, 77962265, 82747568, 83058179, 84364224, 86930840, 87932717, 88184650, 88858402, 89164538, 90343051, 90364650, 91868160, 93062019, 96535143, 98766934, 101489773, 105243329, 105552443, 109926146, 113448315, 115514750, 115738292, 115983334, 117467941, 119909122, 120673547, 122567922, 123427814, 123580294, 123896516, 124244090, 125237978, 125837999, 131077055, 132929747, 133085759, 134015213, 134102416, 134548389, 137456047, 138525774, 139554104, 140719167, 143604125, 144292921, 144695589, 145523403, 146555635, 148841329, 148845435, 151102082, 152391224, 156304006, 159229194, 159422738, 161352190, 161589861, 162865415, 163019320, 163250083, 164304554, 166457509, 167952331, 168466535, 169586096, 170469129, 170826907, 171189607, 171377449, 171673888, 173844114, 174923810, 175387565, 175941973, 176854588, 180398248, 181028316, 182301227, 182863872, 189875952, 190115627, 191391071, 194355496, 196076417, 197738765, 197750926, 198406028, 200458496, 202384911, 202458937, 202768448, 205903395, 206168321, 207769588, 211396927, 212012222, 212546598, 213016501, 215041482, 215522511, 217295611, 217314117, 218017534, 219203801, 223722543, 224221165, 226987216, 227168236, 227653615, 228786893, 228857729, 228958891, 231681850, 234822155, 235867285, 236345790, 238601330, 245161152, 245422158, 245524171, 245662090, 247031830, 248793729, 250371046, 250432800, 253898175, 256535701, 257055716, 257069502, 257939492, 258264319, 262437497, 262788663, 264378010, 265456676, 265517857, 268193464, 269866103, 271586830, 274575481, 277071973, 278544546, 279394648, 280635770, 282607361, 283106240, 283178936, 283598043, 283722939, 284707524, 285202227, 286158639, 289314270, 289962751, 290241181, 290754059, 291618482, 292376728, 293553846, 294397502, 295445030, 298027525, 302168114, 303239474, 304053905, 304088959, 305456856, 305818764, 307178081, 308948319, 309871218, 316220545, 317721421, 318580483, 318755568, 318875563, 319820898, 320547819, 321588559, 324532245, 325160664, 325404462, 325460525, 327158087, 328066064, 329591059, 330115950, 330314540, 330544641, 330992130, 331125111, 331150561, 332491173, 335776935, 336309462, 336678839, 337208167, 337758217, 339813480, 341526449, 342136141, 342377734, 342611081, 345776311, 346140242, 348136993, 350047982, 351032706, 351450134, 351995418, 353000863, 354193344, 354627811, 354731446, 354761299, 356357754, 356597318, 359223346, 359639503, 360231178, 360754320, 362884567, 363248175, 363429491, 364178337, 364265478, 364322477, 364533781, 366337799, 367240443, 369667644, 370041114, 370989970, 371870126, 372859923, 374756971, 376031017, 376261616, 377082078, 377811501, 379595510, 379807766, 379915120, 379984981, 381823242, 382355902, 383344233, 385084138, 385152530, 385222251, 386044180, 389292636, 390043223, 390244310, 391303344, 392046060, 393486962, 400122715, 400681363, 401838598, 401962506, 406013592, 406073815, 406899446, 414006740, 414844354, 415152280, 416770784, 417653362, 417891510, 418860727, 418880633, 419985868, 420449342, 421141644, 422257403, 423306962, 424952894, 426602722, 426853349, 427138570, 431468472, 434493668, 435197957, 437868847, 439098336, 440038148, 440055681, 441875847, 442034086, 442875910, 445081732, 446443226, 448608774, 453939157, 456106260, 457277849, 458407034, 459412052, 460574296, 465521891, 466275456, 466599348, 467382123, 467399915, 468148263, 468193260, 468386440, 468622813, 468819854, 469005907, 472609077, 473807317, 474935242, 476176576, 478140547, 479525402, 482417861, 482423067, 484353528, 484684316, 484802950, 486063852, 488308568, 488449525, 489270971, 491175427, 495445229, 498066043, 498119322, 498338146, 499020509, 501319858, 501554616, 502798902, 503334695, 505045819, 506473529, 507944891, 507986154, 509948580, 510732718, 514101616, 518230770, 518412677, 520898789, 521199664, 522647154, 524943597, 526248488, 527383567, 528932773, 529238059, 529491426, 530636427, 533216859, 533313070, 533422759, 537152148, 537942630, 539344677, 540153227, 541910003, 542223549, 542636893, 543021246, 543635262, 547087021, 547653017, 551452301, 552443876, 553949432, 554001370, 554084351, 554986987, 555046938, 555204702, 557113570, 557203139, 558222996, 560907620, 562747631, 563336190, 564458163, 566196035, 568441189, 568815892, 569731125, 571228126, 571847964, 572297981, 573227616, 574216192, 574241801, 574418022, 576344426, 577153399, 578194693, 580350240, 580431492, 583621475, 585477712, 587068005, 587949899, 589019478, 591340865, 593093618, 594439310, 595588414, 599673629, 600351654, 602360354, 602993678, 604891030, 607470334, 607675645, 608619819, 608797940, 608810889, 609215215, 609458181, 612474045, 613849166, 614119122, 614824142, 615680534, 615873346, 618174444, 620147611, 621144913, 622054108, 622389637, 623388192, 623665087, 624021401, 624032983, 624342633, 625329405, 628557708, 630326312, 632234415, 632286712, 634231188, 634648822, 635441686, 636437836, 636669294, 637745065, 638595095, 638674719, 639721930, 641587723, 641704157, 641997590, 644072785, 644496289, 646130005, 647101962, 648078430, 649143437, 649326620, 649567609, 650559606, 650819973, 651299097, 652468785, 654146891, 655449219, 657958227, 660951237, 662017248, 662961732, 663195217, 663947576, 669248409, 670296398, 670899636, 671959939, 674645658, 675363845, 681004264, 681675143, 682551026, 684562548, 685497271, 686443946, 687197802, 689300624, 691498034, 693036985, 693713229, 694735108, 695258038, 697396663, 698257842, 698843271, 700084154, 703112883, 704007774, 705674539, 705900503, 706342551, 709238436, 710823468, 711161010, 715137060, 715193045, 715373254, 715538503, 716286283, 716601217, 717185707, 717250333, 717419668, 718096149, 719055284, 719261036, 719552690, 722259144, 722800277, 724755524, 725209157, 725419582, 727267876, 729562982, 730017685, 730898699, 731559083, 732703820, 733519030, 734707613, 734896236, 735198698, 735284880, 735968949, 739735346, 740348960, 742035850, 742150263, 742575522, 743733268, 744054981, 745841859, 746977241, 748843685, 749368009, 749514671, 750671852, 752019642, 752111301, 752217735, 753171262, 753786935, 756071590, 758692081, 760335528, 764130212, 764133247, 764383920, 764693639, 765753742, 767770911, 768196027, 769502955, 769690723, 771058274, 773861760, 774196305, 774928394, 775008213, 775076393, 775261155, 775833580, 776146514, 778750356, 779787409, 786710077, 787175204, 787220295, 787394040, 787468173, 788430878, 791926547, 792836214, 793660707, 793805564, 794128788, 795166886, 795792494, 799056222, 799590369, 799804293, 800552869, 800815394, 802973267, 803839919, 808074280, 809762536, 809921633, 814053954, 815543449, 815775429, 815857307, 818942154, 823038461, 824107725, 824289995, 826918795, 826954844, 829248979, 829438385, 829941496, 831500449, 832905437, 834193190, 836493633, 837344526, 837780372, 838342002, 838405999, 838578140, 841504393, 841952375, 843279976, 844109696, 844873781, 845413270, 845939142, 846011417, 846908705, 847862069, 848659719, 849470355, 849599741, 849822694, 851147271, 851444472, 853215425, 855261683, 856435585, 857088471, 857568903, 858483055, 858957600, 859159976, 861616928, 862275420, 863997019, 865332558, 866199617, 866853308, 867495265, 867774358, 867945780, 869967309, 871829033, 874347082, 875286587, 877788469, 879288551, 879332134, 881784116, 882828547, 884570519, 886178585, 886184356, 886297438, 886534299, 889721921, 889896532, 891677914, 892718196, 895075910, 898577167, 901223684, 901470380, 901839521, 901852364, 902082200, 902697057, 902977866, 905725871, 908661438, 909901538, 910374575, 913531724, 916437670, 917978489, 919103237, 920214939, 922426289, 924626440, 925800278, 925857517, 926666961, 926990758, 927610025, 930036707, 931163450, 931436390, 931643778, 934021857, 934424262, 937067140, 937785813, 942089097, 942927808, 943221155, 947356469, 947514802, 947769246, 948114408, 949676018, 949758851, 949956134, 954654685, 956496706, 957637513, 957764320, 958028846, 959135032, 959348616, 959773458, 963089827, 965119884, 967199004, 967445546, 971057288, 972751698, 975852386, 976419637, 977770312, 981998191, 984131593, 985096661, 987673554, 987709284, 988310021, 988684711, 989115609, 990147572, 990278321, 991096681, 991191958, 996357455, 996980937, 998468873, 998887102, 999390962, 999606167]
  ];

  const res = fun.apply(null, params)
  console.log(`res`, res);
}
test()